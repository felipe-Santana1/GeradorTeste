<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador do Tigas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Botão de Configuração -->
    <button id="config-button" class="config-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6m-9-9h6m6 0h6m-2.5 7.5l-4.2-4.2m0 0L7.5 5.5m11 11l-4.2-4.2m0 0L5.5 7.5"></path>
        </svg>
        Configurar Conta
    </button>

    <!-- Botão de Relatório -->
    <button id="relatorio-button" class="relatorio-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        Relatório
    </button>

    <h1 class="main-title">GERADOR DO TIGAS</h1>

    <div class="container">
        <div class="input-group">
            <label for="valor">Valor (R$): <span class="required">*</span></label>
            <input type="text" id="valor" placeholder="R$ 0,00">
            <span class="error-message" id="valor-error"></span>
        </div>
        
        <div class="input-group">
            <label for="descricao">Descrição: <span class="required">*</span></label>
            <input type="text" id="descricao" placeholder="Descrição do pagamento (sem espaços)" maxlength="26">
            <span class="error-message" id="descricao-error"></span>
        </div>
        
        <div id="qrcode"></div>
        
        <div id="pix-code-container" style="display: none;">
            <label>Código PIX (Copia e Cola):</label>
            <div class="pix-code-wrapper">
                <textarea id="pix-code" readonly></textarea>
                <button id="copiar-btn" class="copiar-btn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    Copiar
                </button>
            </div>
            <span id="copiar-feedback" class="feedback-copiar"></span>
        </div>
    </div>

    <!-- Modal de Configuração -->
    <div id="config-modal" class="modal">
        <div class="modal-content">
            <h2>Configurar Dados da Conta PIX</h2>
            
            <div class="input-group">
                <label for="modal-senha">Senha de Acesso: <span class="required">*</span></label>
                <input type="password" id="modal-senha" placeholder="Digite a senha">
                <span class="error-message" id="senha-error"></span>
            </div>
            
            <div id="config-fields" style="display: none;">
                <div class="input-group">
                    <label for="modal-chave">Chave PIX: <span class="required">*</span></label>
                    <input type="text" id="modal-chave" placeholder="Telefone, CPF, CNPJ ou E-mail">
                    <span class="error-message" id="chave-error"></span>
                </div>
                
                <div class="input-group">
                    <label for="modal-nome">Nome do Recebedor: <span class="required">*</span></label>
                    <input type="text" id="modal-nome" placeholder="Seu nome completo" maxlength="25">
                    <span class="error-message" id="nome-error"></span>
                </div>
                
                <div class="input-group">
                    <label for="modal-cidade">Cidade: <span class="required">*</span></label>
                    <input type="text" id="modal-cidade" placeholder="Sua cidade" maxlength="15">
                </div>
                
                <div class="modal-actions">
                    <button id="salvar-config" class="btn-salvar">Salvar Configurações</button>
                    <button id="cancelar-config" class="btn-cancelar">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Relatório -->
    <div id="relatorio-modal" class="modal">
        <div class="modal-content modal-large">
            <h2>Relatório de Histórico</h2>
            
            <div class="input-group">
                <label for="relatorio-senha">Senha de Acesso: <span class="required">*</span></label>
                <input type="password" id="relatorio-senha" placeholder="Digite a senha">
                <span class="error-message" id="senha-relatorio-error"></span>
            </div>
            
            <div id="relatorio-content" style="display: none;">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="qrcodes">QR Codes Gerados</button>
                    <button class="tab-btn" data-tab="alteracoes">Alterações de Conta</button>
                </div>
                
                <div class="tab-content active" id="qrcodes-tab">
                    <div class="table-header">
                        <span>Total de QR Codes: <strong id="total-qrcodes">0</strong></span>
                        <button id="limpar-historico" class="btn-limpar">Limpar Histórico</button>
                    </div>
                    <div class="table-container">
                        <table id="tabela-qrcodes">
                            <thead>
                                <tr>
                                    <th>Data/Hora</th>
                                    <th>Valor</th>
                                    <th>Descrição</th>
                                    <th>Conta Usada</th>
                                </tr>
                            </thead>
                            <tbody id="tbody-qrcodes">
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="tab-content" id="alteracoes-tab">
                    <div class="table-header">
                        <span>Total de Alterações: <strong id="total-alteracoes">0</strong></span>
                    </div>
                    <div class="table-container">
                        <table id="tabela-alteracoes">
                            <thead>
                                <tr>
                                    <th>Data/Hora</th>
                                    <th>Chave Anterior</th>
                                    <th>Chave Nova</th>
                                    <th>Nome/Cidade</th>
                                </tr>
                            </thead>
                            <tbody id="tbody-alteracoes">
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button id="fechar-relatorio" class="btn-cancelar">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
